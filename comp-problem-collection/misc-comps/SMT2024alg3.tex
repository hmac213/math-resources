\documentclass[12pt]{scrartcl}

\usepackage[sexy]{evan}
\usepackage{parskip}

\title{2024 SMT Algebra \#3}

\begin{document}

\begin{mdframed}[style=mdpurplebox,frametitle={Problem Statement}]
    A polynomial $f$ with real coefficients satisfies the functional equation
    \[f(f(x) + y^{2}) = f(x + y)f(x - y) + 4f(xy)\]
    for all real $x$, $y$. What is the sum of all possible values of $\abs{f(1)}$?
\end{mdframed}

\vspace{-\baselineskip}\rule{\textwidth}{0.4pt}

Start by setting $y = 0$. We get
\[f(f(x)) = f(x)^{2} + 4f(0).\]
Now, the left and right side of the equation must have the same degree. Since
\[\deg[f(f(x))] = \deg[f(x)]^{2},\]
we must have that
\[\deg[f(x)] \in \{0, 2\}.\]
First, if $f(x) = c$,
\[c = c^{2} + 4c \implies f(x) = 0 \; \text{or} \; f(x) = -3.\]
So, the above case contributes $\abs{f(1)} = 3$.

If $f(x) = a(x - p)(x - q)$ for some $p, q \in \CC$,
\[a(f(x) - p)(f(x) - q) = f(x)^{2} + 4pq\]
\[a(f(x)^{2} - (p + q)f(x) + pq) = f(x)^{2} + 4pq\]
\[af(x)^{2} - a(p + q)f(x) + apq = f(x)^{2} + 4pq.\]
Since the above must hold for all $x \in \RR$, we must have $a = 1$ and $p = q = 0$. This yields $f(x) = x^{2}$ as a solution and contribues $\abs{f(1)} = 1$ to the sum.

Our final answer is thus, $\boxed{4}$.
\end{document}